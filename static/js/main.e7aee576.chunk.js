(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,n,t){e.exports=t(44)},24:function(e,n,t){},25:function(e,n,t){},26:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(11),r=t.n(i),c=(t(24),t(12)),l=t(13),s=t(16),u=t(14),d=t(17),m=function(){return a.a.createElement("div",null,a.a.createElement("h1",{className:"title-map"},"Neighborhood Map"))},p=(t(25),t(26),t(15)),f=t.n(p),g=function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(a)))).state={infos:[],filteredInfos:[],markers:[]},t.loadMap=function(){w("https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyAxAPuxsvKt7MOcfU8yL-urFscW_11DHFM&callback=initMap"),window.initMap=t.initMap},t.initMap=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:43.643819,lng:-79.39779},zoom:11});t.createDetails(e)},t.getFoursquareInfos=function(){f.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams({client_id:"CAQWSRVDV12J4R0F5JBNO124LWXBGBFZ2PF05FKWOW4N0Z0Z",client_secret:"AL4RFZAJBSCPWL5HJM2KUIJKHGKWHPTVJMDS12GWNJY4HYA2",query:"food",near:"toronto",v:"20192707"})).then(function(e){t.setState({infos:e.data.response.groups[0].items,filteredInfos:e.data.response.groups[0].items},t.loadMap())}).catch(function(e){console.log("You got a error ".concat(e)),alert("Oh no! The map didn't load correctly")})},t.onchange=function(e){var n=new window.google.maps.Map(document.getElementById("map"),{center:{lat:43.643819,lng:-79.39779},zoom:11}),o=t.state.infos.filter(function(o){return t.createDetails(n),o.venue.name.toLowerCase().includes(e.target.value.toLowerCase())});t.setState({filteredInfos:o},function(){t.createDetails(n)})},t.createDetails=function(e){var n=t.state,o=n.filteredInfos,a=n.markers;o.map(function(n){var t=new window.google.maps.InfoWindow,o="<div><h3>".concat(n.venue.name,"</h3><p>").concat(n.venue.location.address,"</p></div>"),i=new window.google.maps.Marker({position:{lat:n.venue.location.lat,lng:n.venue.location.lng},map:e,id:n.venue.id,title:n.venue.name,animation:window.google.maps.Animation.DROP});i.addListener("click",function(){null!==i.getAnimation()?i.setAnimation(null):i.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){i.setAnimation(null)},1500),t.setContent(o),t.open(e,i)}),a.push(i)})},t.listItemCheck=function(e){t.state.markers.filter(function(n){return n.id===e.id})[0];var n=new window.google.maps.Map(document.getElementById("map"),{center:{lat:e.location.lat,lng:e.location.lng},zoom:11}),o=new window.google.maps.Marker({position:{lat:e.location.lat,lng:e.location.lng},map:n,id:e.id,title:e.name,animation:window.google.maps.Animation.DROP}),a=new window.google.maps.InfoWindow,i="<div><h3>".concat(e.name,"</h3><p>").concat(e.location.address,"</p></div>");null!==o.getAnimation()?o.setAnimation(null):o.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){o.setAnimation(null)},1500),a.setContent(i),a.open(n,o)},t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getFoursquareInfos()}},{key:"render",value:function(){var e=this,n=this.state.filteredInfos;return a.a.createElement("div",{id:"app"},a.a.createElement("nav",{id:"header-search","aria-label":"Search in Map",role:"search"},a.a.createElement("div",{className:"search-field"},a.a.createElement("input",{id:"search-bar",placeholder:"Search for places...",onChange:this.onchange}))),a.a.createElement(m,null),a.a.createElement("main",{id:"map-container"},a.a.createElement("div",{id:"list","aria-label":"Places List",role:"navigation"},a.a.createElement("h3",{className:"subtitle-map"},"Places List"),a.a.createElement("ul",{className:"places-list"},n.map(function(n){return a.a.createElement("li",{className:"list-item",key:n.venue.id,tabIndex:"0",onClick:function(){e.listItemCheck(n.venue)}},a.a.createElement("h4",{className:"place-name"},n.venue.name))}))),a.a.createElement("div",{id:"map","aria-label":"Toronto Map",role:"application"})))}}]),n}(o.Component),w=function(e){var n=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.src=e,t.async=!0,t.defer=!0,n.parentNode.insertBefore(t,n),t.onerror=function(){return alert("Oh no! Google Maps API request catch an error.")}},h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(g,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/Neighborhood-Map","/service-worker.js");h?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):v(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):v(n,e)})}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.e7aee576.chunk.js.map